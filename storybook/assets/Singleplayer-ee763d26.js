import{j as r,a as g,F as W}from"./jsx-runtime-37f7df21.js";import{R as G,r as f}from"./index-f1f2c4b1.js";import{c as O,B as C}from"./Button-171a86dd.js";import{f as Z}from"./index.esm-b23235d8.js";import{i as J}from"./MessageFormatted-2ac5f461.js";import{T as P}from"./Tabs-928a87e0.js";import{M as H}from"./MessageFormattedString-7672c9f4.js";const X=""+new URL("isles-73361aa2.png",import.meta.url).href;/**
 * filesize
 *
 * @copyright 2023 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 10.0.12
 */const Q="array",ee="bit",Y="bits",te="byte",z="bytes",V="",ie="exponent",ne="function",D="iec",le="Invalid number",re="Invalid rounding method",I="jedec",oe="object",K=".",se="round",ae="s",ce="kbit",de="kB",ue=" ",fe="string",me="0",j={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function _e(e,{bits:t=!1,pad:a=!1,base:i=-1,round:s=2,locale:m=V,localeOptions:h={},separator:d=V,spacer:b=ue,symbols:S={},standard:c=V,output:w=fe,fullform:q=!1,fullforms:_=[],exponent:k=-1,roundingMethod:T=se,precision:v=0}={}){let l=k,N=Number(e),n=[],u=0,M=V;i===-1&&c.length===0?(i=10,c=I):i===-1&&c.length>0?(c=c===D?D:I,i=c===D?2:10):(i=i===2?2:10,c=i===10||c===I?I:D);const o=i===10?1e3:1024,E=q===!0,R=N<0,B=Math[T];if(typeof e!="bigint"&&isNaN(e))throw new TypeError(le);if(typeof B!==ne)throw new TypeError(re);if(R&&(N=-N),(l===-1||isNaN(l))&&(l=Math.floor(Math.log(N)/Math.log(o)),l<0&&(l=0)),l>8&&(v>0&&(v+=8-l),l=8),w===ie)return l;if(N===0)n[0]=0,M=n[1]=j.symbol[c][t?Y:z][l];else{u=N/(i===2?Math.pow(2,l*10):Math.pow(1e3,l)),t&&(u=u*8,u>=o&&l<8&&(u=u/o,l++));const y=Math.pow(10,l>0?s:0);n[0]=B(u*y)/y,n[0]===o&&l<8&&k===-1&&(n[0]=1,l++),M=n[1]=i===10&&l===1?t?ce:de:j.symbol[c][t?Y:z][l]}if(R&&(n[0]=-n[0]),v>0&&(n[0]=n[0].toPrecision(v)),n[1]=S[n[1]]||n[1],m===!0?n[0]=n[0].toLocaleString():m.length>0?n[0]=n[0].toLocaleString(m,h):d.length>0&&(n[0]=n[0].toString().replace(K,d)),a&&Number.isInteger(n[0])===!1&&s>0){const y=d||K,x=n[0].toString().split(y),F=x[1]||V,A=F.length,U=s-A;n[0]=`${x[0]}${y}${F.padEnd(A+U,me)}`}return E&&(n[1]=_[l]?_[l]:j.fullform[c][l]+(t?ee:te)+(n[0]===1?V:ae)),w===Q?n:w===oe?{value:n[0],symbol:n[1],exponent:l,unit:M}:n.join(b)}function L(e,t){var a,i;if(e===t)return!0;if(e&&t&&(a=e.constructor)===t.constructor){if(a===Date)return e.getTime()===t.getTime();if(a===RegExp)return e.toString()===t.toString();if(a===Array&&(i=e.length)===t.length){for(;i--&&L(e[i],t[i]););return i===-1}if(a===Object){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(i in e)if(!(i in t)||!L(e[i],t[i]))return!1;return!0}}return e!==e&&t!==t}function pe(e){const t=G.useRef([]);return L(e,t.current)||(t.current=e),t.current}function ge(e,t){return G.useMemo(e,pe(t))}function he(e,t,a,i){const s=f.useRef(a);s.current=a;const m=ge(()=>i,[i]);f.useEffect(()=>{if(!e)return;const h=d=>s.current.call(e,d);return e.addEventListener(t,h,m),()=>{e.removeEventListener(t,h,m)}},[e,t,m])}const ye="_root_1ck2l_1",we="_content_1ck2l_7",ve="_content_loading_1ck2l_20",be="_world_root_1ck2l_24",Se="_world_title_1ck2l_31",Ne="_world_title_right_1ck2l_36",Ee="_world_info_1ck2l_40",Ce="_world_info_formatted_1ck2l_48",ke="_world_info_description_line_1ck2l_52",Re="_world_image_1ck2l_56",Be="_image_missing_1ck2l_60",Te="_world_focused_1ck2l_63",Me="_title_1ck2l_67",p={root:ye,content:we,content_loading:ve,world_root:be,world_title:Se,world_title_right:Ne,world_info:Ee,world_info_formatted:Ce,world_info_description_line:ke,world_image:Re,image_missing:Be,world_focused:Te,title:Me},Ve="_container_1gx4v_1",qe="_input_1gx4v_10",$={container:Ve,input:qe},xe=({autoFocus:e,rootStyles:t,inputRef:a,validateInput:i,...s})=>{const m=f.useRef(null),[h,d]=f.useState({}),[b,S]=f.useState(s.value??"");return f.useEffect(()=>{S(s.value===""||s.value?s.value:b)},[s.value]),f.useEffect(()=>{a&&(a.current=m.current),!(!e||J())&&m.current.focus()},[]),r("div",{id:"input-container",className:$.container,style:t,children:r("input",{ref:m,className:$.input,autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",autoSave:"off",spellCheck:"false",style:{...h},...s,value:b,onChange:c=>{var w;d((i==null?void 0:i(c.target.value))??{}),S(c.target.value),(w=s.onChange)==null||w.call(s,c)}})})};try{Input.displayName="Input",Input.__docgenInfo={description:"",displayName:"Input",props:{rootStyles:{defaultValue:null,description:"",name:"rootStyles",required:!1,type:{name:"CSSProperties"}},autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},inputRef:{defaultValue:null,description:"",name:"inputRef",required:!1,type:{name:"RefObject<HTMLInputElement>"}},validateInput:{defaultValue:null,description:"",name:"validateInput",required:!1,type:{name:"((value: string) => CSSProperties)"}}}}}catch{}const Ie=({name:e,isFocused:t,title:a,lastPlayed:i,size:s,detail:m="",onFocus:h,onInteraction:d,iconSrc:b,formattedTextOverride:S,worldNameRight:c})=>{const w=f.useMemo(()=>{if(!i)return"";const _=new Intl.RelativeTimeFormat("en",{numeric:"auto"}),k=Date.now()-i,T=Math.floor(k/1e3/60),v=Math.floor(T/60),l=Math.floor(v/24);return l>0?_.format(-l,"day"):v>0?_.format(-v,"hour"):_.format(-T,"minute")},[i]),q=f.useMemo(()=>s?_e(s):"",[s]);return g("div",{className:O(p.world_root,t?p.world_focused:void 0),tabIndex:0,onFocus:()=>h==null?void 0:h(e),onKeyDown:_=>{(_.code==="Enter"||_.code==="Space")&&(_.preventDefault(),d==null||d(_.code==="Enter"?"enter":"space"))},onDoubleClick:()=>d==null?void 0:d("enter"),children:[r("img",{className:`${p.world_image} ${b?"":p.image_missing}`,src:b??X,alt:"world preview"}),g("div",{className:p.world_info,children:[g("div",{className:p.world_title,children:[r("div",{children:a}),r("div",{className:p.world_title_right,children:c})]}),S?r("div",{className:p.world_info_formatted,children:r(H,{message:S})}):g(W,{children:[g("div",{className:p.world_info_description_line,children:[w," ",m.slice(-30)]}),r("div",{className:p.world_info_description_line,children:q})]})]})]})},ze=({worldData:e,onGeneralAction:t,onWorldAction:a,firstRowChildrenOverride:i,serversLayout:s,searchRowChildrenOverride:m,activeProvider:h,setActiveProvider:d,providerActions:b,providers:S={},disabledProviders:c,error:w,isReadonly:q,warning:_,warningAction:k,warningActionLabel:T})=>{const v=f.useRef(),l=f.useRef(null);he(window,"keydown",o=>{if((o.code==="ArrowDown"||o.code==="ArrowUp")&&o.ctrlKey){o.preventDefault();const E=o.code==="ArrowDown"?1:-1,R=Z(v.current),B=R.indexOf(document.activeElement);if(B===-1)return;const y=R[B+E];y==null||y.focus()}});const[N,n]=f.useState(""),[u,M]=f.useState("");return f.useEffect(()=>{M("")},[h]),g("div",{ref:v,children:[r("div",{className:"dirt-bg"}),g("div",{className:O("fullscreen",p.root),children:[r("span",{className:O("screen-title",p.title),children:s?"Join Java Servers":"Select Saved World"}),m||r("div",{style:{display:"flex",flexDirection:"column"},children:r(xe,{autoFocus:!0,value:N,onChange:({target:{value:o}})=>n(o)})}),g("div",{className:O(p.content,!e&&p.content_loading),children:[r(P,{tabs:Object.keys(S),disabledTabs:c,activeTab:h??"",labels:S,onTabChange:o=>{d==null||d(o)},fullSize:!0}),g("div",{style:{marginTop:3},children:[b&&g("div",{style:{display:"flex",alignItems:"center"},children:[r("span",{style:{fontSize:9,marginRight:3},children:"Actions: "})," ",Object.entries(b).map(([o,E])=>typeof E=="function"?r(C,{onClick:E,style:{width:100},children:o},o):r(f.Fragment,{children:E},o))]}),e?e.filter(o=>o.title.toLowerCase().includes(N.toLowerCase())).map(({name:o,size:E,detail:R,...B})=>f.createElement(Ie,{...B,size:E,name:o,onFocus:M,isFocused:u===o,key:o,onInteraction:y=>{var x;y==="enter"?a("load",o):y==="space"&&((x=l.current)==null||x.focus())},detail:R})):r("div",{style:{fontSize:10,color:w?"red":"lightgray"},children:w||"Loading (check #dev console if loading too long)..."}),_&&g("div",{style:{fontSize:8,color:"#ffa500ba",marginTop:5,textAlign:"center"},children:[_," ",k&&r("a",{onClick:k,children:T})]})]})]}),g("div",{style:{display:"flex",flexDirection:"column",minWidth:400,paddingBottom:3},children:[i||g("div",{children:[r(C,{rootRef:l,disabled:!u,onClick:()=>a("load",u),children:"Load World"}),r(C,{onClick:()=>t("create"),disabled:q,children:"Create New World"})]}),g("div",{children:[s?r(C,{style:{width:100},disabled:!u,onClick:()=>a("edit",u),children:"Edit"}):r(C,{style:{width:100},disabled:!u,onClick:()=>a("export",u),children:"Export"}),r(C,{style:{width:100},disabled:!u,onClick:()=>a("delete",u),children:"Delete"}),s?r(C,{style:{width:100},onClick:()=>t("create"),children:"Add"}):r(C,{style:{width:100},onClick:()=>a("edit",u),disabled:!0,children:"Edit"}),r(C,{style:{width:100},onClick:()=>t("cancel"),children:"Cancel"})]})]})]})]})};try{Singleplayer.displayName="Singleplayer",Singleplayer.__docgenInfo={description:"",displayName:"Singleplayer",props:{worldData:{defaultValue:null,description:"",name:"worldData",required:!0,type:{name:"WorldProps[] | null"}},serversLayout:{defaultValue:null,description:"",name:"serversLayout",required:!1,type:{name:"boolean"}},firstRowChildrenOverride:{defaultValue:null,description:"",name:"firstRowChildrenOverride",required:!1,type:{name:"ReactNode"}},searchRowChildrenOverride:{defaultValue:null,description:"",name:"searchRowChildrenOverride",required:!1,type:{name:"ReactNode"}},providers:{defaultValue:null,description:"",name:"providers",required:!1,type:{name:"Record<string, string>"}},activeProvider:{defaultValue:null,description:"",name:"activeProvider",required:!1,type:{name:"string"}},setActiveProvider:{defaultValue:null,description:"",name:"setActiveProvider",required:!1,type:{name:"((provider: string) => void)"}},providerActions:{defaultValue:null,description:"",name:"providerActions",required:!1,type:{name:"Record<string, (() => void) | Element>"}},disabledProviders:{defaultValue:null,description:"",name:"disabledProviders",required:!1,type:{name:"string[]"}},isReadonly:{defaultValue:null,description:"",name:"isReadonly",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},warning:{defaultValue:null,description:"",name:"warning",required:!1,type:{name:"string"}},warningAction:{defaultValue:null,description:"",name:"warningAction",required:!1,type:{name:"(() => void)"}},warningActionLabel:{defaultValue:null,description:"",name:"warningActionLabel",required:!1,type:{name:"string"}},onWorldAction:{defaultValue:null,description:"",name:"onWorldAction",required:!0,type:{name:'(action: "load" | "export" | "delete" | "edit", worldName: string) => void'}},onGeneralAction:{defaultValue:null,description:"",name:"onGeneralAction",required:!0,type:{name:'(action: "cancel" | "create") => void'}}}}}catch{}export{xe as I,ze as S};
//# sourceMappingURL=Singleplayer-ee763d26.js.map
